<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>AURA_DB</title>

    <link rel="stylesheet" href="style.css" />
    <script type="text/javascript" src="script444.js"></script>
    <script src="/jszip.min.js"></script>
  </head>
  <body class="noscroll">
    <main class="container">
      <aside>
        <div class="sidenav noscroll">
          <div
            style="width: fit-content; margin-left: auto"
            class="cross-svg"
            onclick="togglesidenav()"
          >
            <svg
              fill="#fff"
              width="1.5rem"
              version="1.1"
              id="Capa_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 490 490"
              xml:space="preserve"
            >
              <polygon
                points="456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490 
	489.292,457.678 277.331,245.004 489.292,32.337 "
              />
            </svg>
          </div>
          <h2>Folders</h2>
          <div class="sidenav-search">
            <input
              type="text"
              class="sidenavsearch"
              placeholder="Search for folders"
            />
            <svg
              viewBox="0 0 24 24"
              fill="none"
              class="sidesearchicon"
              style="min-width: 1.75rem; width: 2rem"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M14.9536 14.9458L21 21M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z"
                stroke="#03B2FD"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            <svg
              fill="#03B2FD"
              version="1.1"
              class="side_close_search hidden"
              viewBox="0 0 490 490"
            >
              <polygon
                points="456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490 489.292,457.678 277.331,245.004 489.292,32.337 "
              />
            </svg>
          </div>
          <div class="folder-list noscroll">
            <div class="sidefolder hidden">
              <svg
                width="2.5rem"
                viewBox="0 0 68 55"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0 0H29.6925L35.2544 8.92263H67.0168L68 54H0V0Z"
                  fill="#e1e817"
                />
              </svg>
              <div class="foldercontent">
                <span style="font-size: 1.25rem" class="foldername noscroll"
                  >astra</span
                >
                <!-- <div class="folderdetail"> -->
                <span
                  style="font-size: 0.9rem; color: #ffffff82"
                  class="noofitem"
                  >11 items</span
                >
                <!-- </div> -->
              </div>
            </div>
          </div>
        </div>
      </aside>
      <div class="main-content noscroll">
        <div class="upload">
          <form
            id="uploadForm"
            action="/handleupload"
            method="POST"
            class="hidden"
            enctype="multipart/form-data"
          >
            <input
              type="file"
              id="fileholder"
              name="file"
              onchange="document
              .getElementById('uploadButton').click()"
              multiple
            />

            <button type="submit" id="uploadButton">Upload</button>
          </form>
          <form
            id="uploadFolderForm"
            action="/handleupload"
            method="POST"
            class="hidden"
            enctype="multipart/form-data"
          >
            <input
              type="file"
              id="folderholder"
              name="folder"
              onchange="document
              .getElementById('uploadFolderButton').click()"
              webkitdirectory
            />
            <button type="submit" id="uploadFolderButton">Upload Folder</button>
          </form>
          <div class="create_options hidden">
            <span
              onclick="document.querySelector('.createdirinfo').classList.remove('hidden')"
              class="create_folder"
              ><svg
                width="31"
                height="26"
                viewBox="0 0 31 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.6268 19.0742H16.7268V15.9492H19.8268V12.8242H16.7268V9.69922H13.6268V12.8242H10.5268V15.9492H13.6268V19.0742ZM3.1 25.3242C2.2475 25.3242 1.51771 25.0182 0.910625 24.4063C0.303542 23.7943 0 23.0586 0 22.1992V3.44922C0 2.58984 0.303542 1.85417 0.910625 1.24219C1.51771 0.630208 2.2475 0.324219 3.1 0.324219H12.4L15.5 3.44922H27.9C28.7525 3.44922 29.4823 3.75521 30.0894 4.36719C30.6965 4.97917 31 5.71484 31 6.57422V22.1992C31 23.0586 30.6965 23.7943 30.0894 24.4063C29.4823 25.0182 28.7525 25.3242 27.9 25.3242H3.1ZM3.1 22.1992H27.9V6.57422H14.2213L11.1213 3.44922H3.1V22.1992Z"
                  fill="white"
                />
              </svg>
              Create Folder</span
            >
            <div class="createdirinfo hidden">
              <span
                style="color: rgba(255, 255, 255, 0.493)"
                class="createfoldertitle"
                >Folder Name</span
              >
              <input
                class="newfoldername"
                type="text"
                onfocus="this.addEventListener('keydown', function(event) {
                     if (event.key === 'Enter') {
                         createdir(this.value);
                         document.querySelector('.createdirinfo').classList.add('hidden')
                     }
                })"
                onblur="this.value = ''"
              />
            </div>
            <span
              style="column-gap: 1rem"
              class="upload_file"
              onclick="document.getElementById('fileholder').click()"
              ><svg
                style="padding-left: 0.2rem"
                width="24"
                height="30"
                viewBox="0 0 24 30"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M10.5 25.2983H13.5V19.2446L15.9 21.5646L18 19.4983L12 13.6983L6 19.4983L8.1375 21.5283L10.5 19.2446V25.2983ZM3 29.6483C2.175 29.6483 1.46875 29.3644 0.88125 28.7964C0.29375 28.2285 0 27.5458 0 26.7483V3.54832C0 2.75082 0.29375 2.06811 0.88125 1.50019C1.46875 0.932274 2.175 0.648315 3 0.648315H15L24 9.34832V26.7483C24 27.5458 23.7063 28.2285 23.1188 28.7964C22.5313 29.3644 21.825 29.6483 21 29.6483H3ZM13.5 10.7983V3.54832H3V26.7483H21V10.7983H13.5Z"
                  fill="white"
                />
              </svg>
              Upload File</span
            >
            <span
              class="upload_folder"
              onclick="document.getElementById('folderholder').click()"
              ><svg
                width="31"
                height="26"
                viewBox="0 0 31 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.95 21.285H17.05V14.7225L19.53 17.2225L21.7 15.035L15.5 8.78503L9.3 15.035L11.47 17.2225L13.95 14.7225V21.285ZM3.1 25.9725C2.2475 25.9725 1.51771 25.6665 0.910625 25.0546C0.303542 24.4426 0 23.7069 0 22.8475V4.09753C0 3.23816 0.303542 2.50248 0.910625 1.8905C1.51771 1.27852 2.2475 0.972534 3.1 0.972534H12.4L15.5 4.09753H27.9C28.7525 4.09753 29.4823 4.40352 30.0894 5.0155C30.6965 5.62748 31 6.36316 31 7.22253V22.8475C31 23.7069 30.6965 24.4426 30.0894 25.0546C29.4823 25.6665 28.7525 25.9725 27.9 25.9725H3.1ZM3.1 22.8475H27.9V7.22253H14.2212L11.1212 4.09753H3.1V22.8475Z"
                  fill="white"
                />
              </svg>
              Upload Folder</span
            >
          </div>
          <div class="cancel hidden">
            <svg
              width="10"
              height="10"
              viewBox="0 0 10 10"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0 10L4.14545 4.85507L0 0H1.72727L5 3.91304L8.27273 0H10L5.85455 4.85507L10 10H8.50909L5 5.7971L1.49091 10H0Z"
                fill="black"
              />
            </svg>
          </div>
          <!-- Upload Status Element -->
          <div class="uploadStatus hidden">
            <span class="cancelindication hidden">Upload canceled</span>
            <div class="uploading">
              <div class="uploadingfile">
                <div class="uploading-text">
                  <div class="processname"></div>
                  <span>.</span>
                  <span>.</span>
                  <span>.</span>
                </div>
                <div
                  style="
                    font-size: smaller;
                    margin-right: 12px;
                    max-width: 40%;
                    height: min-content;
                    color: black;
                  "
                  class="uploadname filename noscroll"
                >
                  Long File Name.exten
                </div>
              </div>
              <div class="sizeandprogress">
                <div class="statandprog">
                  <div class="progress-info">
                    <span class="chunkedsend">000.00KB</span>
                    <span>/</span>
                    <span class="totalchunk">000.00KB</span>
                    <span>--</span>
                    <span class="speed">000.00kb/s</span>
                  </div>
                  <div class="sizeandprogress-inner">
                    <div class="bar hidden"></div>
                    <div class="bar hidden"></div>
                    <div class="bar hidden"></div>
                    <div class="bar hidden"></div>
                    <div class="bar hidden"></div>
                    <div class="bar hidden"></div>
                    <div class="bar hidden"></div>
                    <div class="bar hidden"></div>
                    <div class="bar hidden"></div>
                    <div class="bar hidden"></div>
                  </div>
                </div>
                <div class="uploadPercentage">100%</div>
              </div>
            </div>
            <span class="uploadsuccessindication hidden"
              >Upload Successful</span
            >
            <span class="downloadsuccessindication hidden"
              >Download Successful</span
            >
          </div>

          <div class="addbtn">
            <svg
              width="3rem"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="6 6 12 12"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M11.25 12.75V18H12.75V12.75H18V11.25H12.75V6H11.25V11.25H6V12.75H11.25Z"
                fill="#fff"
              ></path>
            </svg>
          </div>

          <script>
            let currentFilenames;
            let xhr;
            let finalpath = "";
            let defaultOnMessage = connction.onmessage;
            document.querySelector(".addbtn").addEventListener("click", () => {
              document
                .querySelector(".create_options")
                .classList.toggle("hidden");
            });

            function formatDate(date) {
              const day = String(date.getDate()).padStart(2, "0");
              const month = String(date.getMonth() + 1).padStart(2, "0"); // Months are zero-based
              const year = date.getFullYear();
              const hours = String(date.getHours()).padStart(2, "0");
              const minutes = String(date.getMinutes()).padStart(2, "0");
              const seconds = String(date.getSeconds()).padStart(2, "0");

              return `${day}-${month}-${year} ${hours}:${minutes}:${seconds}`;
            }

            document
              .getElementById("uploadForm")
              .addEventListener("submit", async (event) => {
                event.preventDefault();
                const fileInput = document.getElementById("fileholder");
                const files = fileInput.files;

                if (files.length === 0) {
                  alert("Please select files to upload.");
                  return;
                }

                // Show uploading status bar
                document
                  .querySelector(".uploadStatus")
                  .classList.remove("hidden");
                document.querySelector(".cancel").classList.remove("hidden");
                document.querySelector(".uploading").classList.remove("hidden");
                document.querySelector(".processname").textContent =
                  "UPLOADING";
                let currentFilename;
                // Prepare to upload each file
                const date = new Date();
                const elements = document
                  .querySelector(".mobilepath")
                  .querySelectorAll(".filepathpart");
                finalpath = "";

                // Find file path
                for (let i = 0; i < elements.length; i++) {
                  finalpath += elements[i].children[1].textContent.replace(
                    /\s/g,
                    ""
                  );
                  finalpath += "/";
                }
                if (finalpath.length === 0) {
                  finalpath = "/";
                }

                // Start uploading the first file
                uploadNextFile(files, 0);
              });

            function uploadNextFile(files, index) {
              if (index >= files.length) {
                // All files uploaded
                document.querySelector(".uploading").classList.add("hidden");
                document
                  .querySelector(".uploadsuccessindication")
                  .classList.remove("hidden");
                setTimeout(() => {
                  document.querySelector(".cancel").classList.add("hidden");
                  document
                    .querySelector(".uploadsuccessindication")
                    .classList.add("hidden");
                  document
                    .querySelector(".uploadStatus")
                    .classList.add("hidden");
                }, 2000);
                return;
              }

              const file = files[index]; // Get the current file to upload
              const zip = new JSZip();
              // Zipping file
              zip.file(file.name, file, {
                compression: "DEFLATE",
                compressionOptions: { level: 9 },
              });

              zip.generateAsync({ type: "blob" }).then(async (zipBlob) => {
                const formData = new FormData();
                const filename =
                  finalpath +
                  file.name.split(".")[0] +
                  "#" +
                  file.name.split(".").pop() +
                  "#";
                currentFilename = filename;

                // Add file to form data
                formData.append("file", zipBlob, filename);
                document.querySelector(".uploadname").innerHTML = file.name;
                document.querySelector(".totalchunk").innerHTML =
                  file_size_conversion(zipBlob.size);

                // File metadata
                const jsonData = {
                  filename: filename,
                  creation_date: await formatDate(new Date()),
                  modified_date: await formatDate(new Date(file.lastModified)),
                  extension: file.name.split(".").pop(),
                };
                formData.append(
                  "metadata",
                  new Blob([JSON.stringify(jsonData)], {
                    type: "application/json",
                  }),
                  "file_data.json"
                );
                let startTime = Date.now();
                let uploadedBytes = 0;
                // Create XMLHttpRequest for upload
                xhr = new XMLHttpRequest();
                xhr.open("POST", "/handleupload", true);

                const bars = document.querySelectorAll(".bar");
                bars.forEach((bar) => {
                  bar.classList.add("hidden");
                });

                // Start upload
                xhr.upload.onprogress = function (event) {
                  if (event.lengthComputable) {
                    const percentage = Math.round(
                      (event.loaded / event.total) * 100
                    );
                    document.querySelector(".chunkedsend").innerHTML =
                      file_size_conversion(event.loaded);
                    document.querySelector(
                      ".uploadPercentage"
                    ).innerText = `${percentage}%`;
                    bars.forEach((bar, index) => {
                      if (index < percentage / 10 && index != 9) {
                        bar.classList.remove("hidden");
                      }
                    });
                    // Calculate upload speed
                    const currentTime = Date.now();
                    const timeElapsed = (currentTime - startTime) / 1000; // in seconds
                    uploadedBytes = event.loaded; // total uploaded bytes
                    const speed = uploadedBytes / timeElapsed; // bytes per second
                    const speedInKB = (speed / 1024).toFixed(2); // convert to KB/s
                    document.querySelector(
                      ".speed"
                    ).innerText = `${speedInKB} KB/s`;
                  }
                };

                xhr.onload = function () {
                  if (xhr.status === 200) {
                    bars[9].classList.remove("hidden");
                    document.querySelector(
                      ".uploadPercentage"
                    ).innerText = `100%`;
                    document.querySelector(".chunkedsend").innerHTML =
                      file_size_conversion(zipBlob.size);
                    document.querySelector(".speed").innerText = `0KB/s`;

                    // Notify server about the uploaded file
                    connction.send(
                      JSON.stringify({ action: "sendJson", path: finalpath })
                    );
                    // Successfully uploaded, proceed to the next file
                    uploadNextFile(files, index + 1);
                  } else {
                    console.error("Upload failed with status:", xhr.status);
                    alert("Upload failed. Please try again.");
                  }
                };

                xhr.onerror = function () {
                  console.error("There was a problem with the upload.");
                  alert(
                    "Upload failed. Please check your connection and try again."
                  );
                };
                document.querySelector(".cancel").onclick = function (event) {
                  event.stopPropagation();
                  if (xhr) {
                    xhr.abort(); // Abort the upload
                    console.log("Deleting ", currentFilename, " files");
                    connction.send(
                      JSON.stringify({
                        action: "abort_upload",
                        folder_path: finalpath,
                        path: currentFilename + ".zip",
                      })
                    );
                    document
                      .querySelector(".uploading")
                      .classList.add("hidden");
                    document.querySelector(".cancelindication").textContent =
                      "Upload Canceled";
                    document
                      .querySelector(".cancelindication")
                      .classList.remove("hidden");
                    setTimeout(() => {
                      document
                        .querySelector(".uploadStatus")
                        .classList.add("hidden");
                      document.querySelector(".cancel").classList.add("hidden");
                      document
                        .querySelector(".cancelindication")
                        .classList.add("hidden");
                    }, 2000);
                  }
                };
                xhr.send(formData);
              });
            }

            document
              .getElementById("uploadFolderForm")
              .addEventListener("submit", async (event) => {
                event.preventDefault();
                finalpath = "";
                const fileInput = document.getElementById("folderholder");
                const files = fileInput.files;

                if (files.length === 0) {
                  alert("Please select files to upload.");
                  return;
                }
                // Show uploading status bar
                document
                  .querySelector(".uploadStatus")
                  .classList.remove("hidden");
                document.querySelector(".cancel").classList.remove("hidden");
                document.querySelector(".uploading").classList.remove("hidden");
                document.querySelector(".processname").textContent =
                  "UPLOADING";

                const elements = document
                  .querySelector(".mobilepath")
                  .querySelectorAll(".filepathpart");
                finalpath = "";
                // Find folder path in which new folder is to be uploaded
                for (let i = 0; i < elements.length; i++) {
                  finalpath += elements[i].children[1].textContent.replace(
                    /\s/g,
                    ""
                  );
                  finalpath += "/";
                }
                if (finalpath.length === 0) {
                  finalpath = "/";
                }
                // Creating Folders and Subfolder that are in uploading folder
                const folderArray = [];
                let prevfolder = "";
                for (let i = 0; i < files.length; i++) {
                  const file = files[i];
                  const pathParts = file.webkitRelativePath.split("/");
                  pathParts.pop();
                  const folderPath = pathParts.join("/") + "/";
                  if (folderPath != prevfolder) {
                    prevfolder = folderPath;
                    folderArray.push(folderPath);
                    await createdir(folderPath);
                  }
                }
                let lastfolderinFolderArray = folderArray.pop();
                let Lastuploadingfolder = finalpath + lastfolderinFolderArray;
                let Lastfoldercreated = false;

                connction.onmessage = (event) => {
                  if (event.data == " " || event.data == undefined) {
                    console.log("Received an empty or undefined data");
                    return;
                  }
                  const tempobj = JSON.parse(event.data);
                  const firstKey = Object.keys(tempobj)[1];
                  let lastkey;
                  if (firstKey === "/") {
                    if (tempobj.hasOwnProperty("/" + lastfolderinFolderArray)) {
                      lastkey = "/" + lastfolderinFolderArray;
                    }
                  } else {
                    lastkey = Object.keys(tempobj).pop();
                  }
                  if (lastkey === Lastuploadingfolder && !Lastfoldercreated) {
                    Lastfoldercreated = true;
                    uploadNextFolderFile(files, 0);
                    return;
                  }
                };
              });

            function uploadNextFolderFile(files, index) {
              if (index >= files.length) {
                // All files uploaded
                document.querySelector(".uploading").classList.add("hidden");
                document
                  .querySelector(".uploadsuccessindication")
                  .classList.remove("hidden");
                connction.onmessage = defaultOnMessage;
                connction.send(
                  JSON.stringify({ action: "sendJson", path: finalpath })
                );
                setTimeout(() => {
                  document.querySelector(".cancel").classList.add("hidden");
                  document
                    .querySelector(".uploadsuccessindication")
                    .classList.add("hidden");
                  document
                    .querySelector(".uploadStatus")
                    .classList.add("hidden");
                }, 2000);
                return;
              }

              const file = files[index];

              const zip = new JSZip();
              // Zipping file
              zip.file(file.name, file, {
                compression: "DEFLATE",
                compressionOptions: { level: 9 },
              });
              zip.generateAsync({ type: "blob" }).then(async (zipBlob) => {
                const formData = new FormData();
                const filename =
                  finalpath +
                  file.webkitRelativePath.split(".")[0] +
                  "#" +
                  file.webkitRelativePath.split(".").pop() +
                  "#";
                currentFilename = filename;

                // Add file to form data
                formData.append("file", zipBlob, filename);
                document.querySelector(".uploadname").innerHTML = file.name;
                document.querySelector(".totalchunk").innerHTML =
                  file_size_conversion(zipBlob.size);

                // File metadata
                const jsonData = {
                  filename: filename,
                  creation_date: await formatDate(new Date()),
                  modified_date: await formatDate(new Date(file.lastModified)),
                  extension: file.name.split(".").pop(),
                };
                // console.log(JSON.stringify(jsonData));
                formData.append(
                  "metadata",
                  new Blob([JSON.stringify(jsonData)], {
                    type: "application/json",
                  }),
                  "file_data.json"
                );
                let startTime = Date.now();
                let uploadedBytes = 0;
                // Create XMLHttpRequest for upload
                xhr = new XMLHttpRequest();
                xhr.open("POST", "/handleupload", true);

                const bars = document.querySelectorAll(".bar");
                bars.forEach((bar) => {
                  bar.classList.add("hidden");
                });

                // Start upload
                xhr.upload.onprogress = function (event) {
                  if (event.lengthComputable) {
                    const percentage = Math.round(
                      (event.loaded / event.total) * 100
                    );
                    document.querySelector(".chunkedsend").innerHTML =
                      file_size_conversion(event.loaded);
                    document.querySelector(
                      ".uploadPercentage"
                    ).innerText = `${percentage}%`;
                    bars.forEach((bar, index) => {
                      if (index < percentage / 10 && index != 9) {
                        bar.classList.remove("hidden");
                      }
                    });
                    // Calculate upload speed
                    const currentTime = Date.now();
                    const timeElapsed = (currentTime - startTime) / 1000; // in seconds
                    uploadedBytes = event.loaded; // total uploaded bytes
                    const speed = uploadedBytes / timeElapsed; // bytes per second
                    const speedInKB = (speed / 1024).toFixed(2); // convert to KB/s
                    document.querySelector(
                      ".speed"
                    ).innerText = `${speedInKB} KB/s`;
                  }
                };

                xhr.onload = function () {
                  if (xhr.status === 200) {
                    bars[9].classList.remove("hidden");
                    document.querySelector(
                      ".uploadPercentage"
                    ).innerText = `100%`;
                    document.querySelector(".chunkedsend").innerHTML =
                      file_size_conversion(zipBlob.size);
                    document.querySelector(".speed").innerText = `0KB/s`;

                    setTimeout(async () => {
                      uploadNextFolderFile(files, index + 1);
                    }, 2000);
                  } else {
                    console.error("Upload failed with status:", xhr.status);
                    alert("Upload failed. Please try again.");
                  }
                };

                xhr.onerror = function () {
                  console.error("There was a problem with the upload.");
                  alert(
                    "Upload failed. Please check your connection and try again."
                  );
                };
                document.querySelector(".cancel").onclick = function (event) {
                  event.stopPropagation();
                  if (xhr) {
                    xhr.abort(); // Abort the upload
                    console.log("Deleting ", currentFilename, " files");
                    connction.send(
                      JSON.stringify({
                        action: "abort_upload",
                        folder_path: finalpath,
                        path: currentFilename + ".zip",
                      })
                    );
                    document
                      .querySelector(".uploading")
                      .classList.add("hidden");
                    document.querySelector(".cancelindication").textContent =
                      "Upload Canceled";
                    document
                      .querySelector(".cancelindication")
                      .classList.remove("hidden");
                    setTimeout(() => {
                      document
                        .querySelector(".uploadStatus")
                        .classList.add("hidden");
                      document.querySelector(".cancel").classList.add("hidden");
                      document
                        .querySelector(".cancelindication")
                        .classList.add("hidden");
                    }, 2000);
                  }
                };
                xhr.send(formData);
              });
            }
          </script>
        </div>
        <div class="filepath">
          <div class="hamburger" onclick="togglesidenav()">
            <svg
              fill="#fff"
              width="1.75rem"
              viewBox="0 0 1920 1920"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M1920 1411.412v225.882H0v-225.882h1920Zm0-564.706v225.882H0V846.706h1920ZM1920 282v225.882H0V282h1920Z"
                fill-rule="evenodd"
              />
            </svg>
          </div>
          <div class="path laptoppath">
            <div class="home">
              <div>
                <span> Home </span>
              </div>
            </div>
            <div class="filepathpart hidden">
              <svg
                fill="#fff"
                width="2.25rem"
                viewBox="-192 -192 2304.00 2304.00"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g
                  id="SVGRepo_tracerCarrier"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke="#CCCCCC"
                  stroke-width="3.84"
                ></g>
                <g id="SVGRepo_iconCarrier">
                  <path
                    d="M568.13.012 392 176.142l783.864 783.989L392 1743.87 568.13 1920l960.118-959.87z"
                    fill-rule="evenodd"
                  ></path>
                </g>
              </svg>
              <div class="file-location">
                <span class="file-location-name"></span>
              </div>
            </div>
          </div>
          <div class="storage-container">
            <div class="storage-header">
              <span
                style="font-weight: 400; font-size: 1rem"
                class="storage-text"
                >Storage Status</span
              >
              <span
                style="color: #cecece; font-size: 0.8rem"
                class="storage-text"
                >Storage connected</span
              >
            </div>
            <div class="storage-details">
              <div class="storage-icon">
                <svg viewBox="0 0 512 512" fill="#000000" stroke="#fff">
                  <g>
                    <path
                      style="fill: none"
                      d="M421.227,190.725v-46.916h15.598V95.342c-33.25-33.25-51.893-51.893-85.143-85.143H75.175v94.853 h20.697v85.673H75.175v311.076h124.729v-15.299h112.191v15.299h124.729V190.725H421.227z"
                    ></path>
                    <rect
                      x="132.59"
                      y="194.805"
                      style="fill: none"
                      stroke="#fff"
                      stroke-width="16px"
                      width="252.94"
                      height="252.94"
                    ></rect>
                    <path
                      style="fill: #fff"
                      d="M436.825,512H312.096c-5.633,0-10.199-4.567-10.199-10.199v-5.1h-91.793v5.1c0,5.632-4.566,10.199-10.199,10.199H75.175 c-5.633,0-10.199-4.567-10.199-10.199V190.725c0-5.632,4.566-10.199,10.199-10.199h10.498v-65.275H75.175 c-5.633,0-10.199-4.567-10.199-10.199V10.199C64.976,4.567,69.542,0,75.175,0h276.507c2.705,0,5.299,1.075,7.212,2.987 l85.143,85.142c1.912,1.913,2.987,4.507,2.987,7.212v48.468c0,5.632-4.566,10.199-10.199,10.199h-5.398v26.518h5.398 c5.633,0,10.199,4.567,10.199,10.199v311.076C447.024,507.433,442.458,512,436.825,512z M322.295,491.602h104.331V200.924h-5.398 c-5.633,0-10.199-4.567-10.199-10.199v-46.916c0-5.632,4.566-10.199,10.199-10.199h5.398V99.567l-79.168-79.168H85.374v74.454 h10.498c5.633,0,10.199,4.567,10.199,10.199v85.673c0,5.632-4.566,10.199-10.199,10.199H85.374v290.677h104.331v-5.1 c0-5.632,4.566-10.199,10.199-10.199h112.191c5.633,0,10.199,4.567,10.199,10.199V491.602z"
                    ></path>
                  </g>
                </svg>
              </div>
              <div class="storage-status">
                <span class="storage-size">000MB/000GB</span>
                <div class="storage-bar">
                  <div class="storage-fill"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="search-bar">
          <div class="openfolder">
            <svg
              fill="#fff"
              class="back"
              width="1.75rem"
              viewBox="-192 -192 2304.00 2304.00"
              xmlns="http://www.w3.org/2000/svg"
              transform="matrix(-1, 0, 0, 1, 0, 0)"
            >
              <path
                d="M568.13.012 392 176.142l783.864 783.989L392 1743.87 568.13 1920l960.118-959.87z"
                fill-rule="evenodd"
              ></path>
            </svg>
            <span class="currentopenedfolder">Home</span>
          </div>
          <div class="path mobilepath">
            <div class="home">
              <div>
                <span> Home </span>
              </div>
            </div>
            <div class="filepathpart hidden">
              <svg
                fill="#fff"
                width="2.25rem"
                viewBox="-192 -192 2304.00 2304.00"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g
                  id="SVGRepo_tracerCarrier"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke="#CCCCCC"
                  stroke-width="3.84"
                ></g>
                <g id="SVGRepo_iconCarrier">
                  <path
                    d="M568.13.012 392 176.142l783.864 783.989L392 1743.87 568.13 1920l960.118-959.87z"
                    fill-rule="evenodd"
                  ></path>
                </g>
              </svg>
              <div class="file-location">
                <span></span>
              </div>
            </div>
          </div>
          <script>
            document
              .querySelector(".back")
              .addEventListener("click", (event) => {
                event.stopPropagation();
                let finalpath = "";
                const elements = document
                  .querySelector(".mobilepath")
                  .querySelectorAll(".filepathpart");
                for (let i = 0; i < elements.length - 1; i++) {
                  finalpath += elements[i].children[1].textContent.replace(
                    /\s/g,
                    ""
                  );
                  finalpath += "/";
                  if (i == elements.length - 2) {
                    break;
                  }
                }
                if (finalpath.length == 0) {
                  finalpath = "/";
                }
                // console.log(finalpath);
                show_file_in_dir(finalpath);
                document.querySelectorAll(".path").forEach((path) => {
                  if (path.children.length > 2) {
                    path.removeChild(path.lastChild);
                  }
                });
                let currentopened = finalpath.split("/");
                currentopened.pop();
                currentopened = currentopened.pop();
                document.querySelectorAll(".path").forEach((path) => {
                  document.querySelector(".currentopenedfolder").textContent =
                    path.children.length == 2 ? "Home" : currentopened;
                });
              });
          </script>
          <div
            class="search-and-sort"
            style="display: flex; column-gap: 1rem; width: max-content"
          >
            <div class="searchbox">
              <input
                id="mainsearchinput"
                type="text"
                placeholder="Search for folders"
              />
              <svg
                width="1.8rem"
                viewBox="0 0 24 24"
                fill="none"
                id="searchicon"
                class="searchicon"
                style="margin-right: 0.5rem"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M14.9536 14.9458L21 21M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z"
                  stroke="#03B2FD"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>

              <svg
                id="close_search_div"
                fill="#03B2FD"
                version="1.1"
                class="close_search hidden"
                viewBox="0 0 490 490"
              >
                <polygon
                  points="456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490 489.292,457.678 277.331,245.004 489.292,32.337 "
                />
              </svg>
            </div>
            <div id="suggestions" class="suggestions noscroll hidden"></div>
            <div class="dropdown">
              <button>
                <svg
                  viewBox="0 0 24 24"
                  width="2rem"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M22.75 7C22.75 7.41421 22.4142 7.75 22 7.75L2 7.75C1.58579 7.75 1.25 7.41421 1.25 7C1.25 6.58579 1.58579 6.25 2 6.25L22 6.25C22.4142 6.25 22.75 6.58579 22.75 7Z"
                    fill="#ffffff"
                  ></path>
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M19.75 12C19.75 12.4142 19.4142 12.75 19 12.75L5 12.75C4.58579 12.75 4.25 12.4142 4.25 12C4.25 11.5858 4.58579 11.25 5 11.25L19 11.25C19.4142 11.25 19.75 11.5858 19.75 12Z"
                    fill="#ffffff"
                  ></path>
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M16.75 17C16.75 17.4142 16.4142 17.75 16 17.75H8C7.58579 17.75 7.25 17.4142 7.25 17C7.25 16.5858 7.58579 16.25 8 16.25H16C16.4142 16.25 16.75 16.5858 16.75 17Z"
                    fill="#ffffff"
                  ></path>
                </svg>
              </button>
              <div class="dropdown-content">
                <span class="onbases" onclick="sortItems(this)">Name</span>
                <span class="onbases" onclick="sortItems(this)">Size</span>
                <span class="onbases" onclick="sortItems(this)">Date</span>
                <span class="onbases" onclick="sortItems(this)">File Type</span>
              </div>
            </div>

            <script>
              document
                .querySelector(".dropdown button")
                .addEventListener("click", (event) => {
                  event.stopPropagation();
                  const dropdownContent =
                    document.querySelector(".dropdown-content");
                  dropdownContent.style.display =
                    dropdownContent.style.display === "flex" ? "none" : "flex";
                });

              document.addEventListener("click", (event) => {
                const dropdownContent =
                  document.querySelector(".dropdown-content");
                if (!event.target.closest(".dropdown")) {
                  dropdownContent.style.display = "none";
                }
                if (
                  !document
                    .querySelector(".create_options")
                    .contains(event.target) &&
                  !document.querySelector(".addbtn").contains(event.target)
                ) {
                  document
                    .querySelector(".create_options")
                    .classList.add("hidden");
                  document
                    .querySelector(".createdirinfo")
                    .classList.add("hidden");
                }
              });
            </script>
          </div>
        </div>
        <div class="headers">
          <span class="nameheader header" onclick="sortItems(this)">Name</span>
          <span class="dateheader header" onclick="sortItems(this)">Date</span>
          <span class="typeheader header" onclick="sortItems(this)">Type</span>
          <span class="sizeheader header" onclick="sortItems(this)">Size</span>
        </div>

        <div class="item-container noscroll">
          <div class="card hidden">
            <div style="margin: 0 auto" class="icon">
              <svg
                height="800px"
                width="800px"
                viewBox="0 0 164 218"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M164 62.5418H119.194C108.951 62.5418 100.304 64.0743 100.65 55.2365V0L164 62.5418Z"
                  fill="white"
                />
                <path
                  d="M18.964 0C0 -4.20338e-10 0 8.38089 0 18.7214V199.279C5.45356e-10 218 8.48953 218 18.964 218H145.036C155.51 218 164 218 164 199.279V62.5418H119.194C108.951 62.5418 100.304 64.0743 100.65 55.2365V0H18.964Z"
                  fill="white"
                />
                <path
                  d="M19 37L88.012 37M19 56.014H88.012M19 75.8083H142M19 96.6668H142M19 117H142"
                  stroke="#979796"
                  stroke-width="2"
                  stroke-linecap="round"
                />
                <path
                  d="M19 136H142"
                  stroke="#979796"
                  stroke-width="2"
                  stroke-linecap="round"
                />
                <path
                  d="M19 155H142"
                  stroke="#979796"
                  stroke-width="2"
                  stroke-linecap="round"
                />
                <path
                  d="M19 174H142"
                  stroke="#979796"
                  stroke-width="2"
                  stroke-linecap="round"
                />
                <path
                  d="M19 193H142"
                  stroke="#979796"
                  stroke-width="2"
                  stroke-linecap="round"
                />
                <path
                  d="M101 57V0L164 62H106.5H104.5H103.5L102 61L101 59.5V57Z"
                  fill="#C6C4C4"
                />
              </svg>
            </div>
            <span
              style="grid-column: 2; min-width: 95%"
              class="filename noscroll"
              >File name.exten</span
            >
            <span class="dateofmodi">00-00-0000 00:00</span>
            <span style="grid-column: 4" class="filetype noscroll"
              >File Type</span
            >
            <span style="grid-column: 5" class="size">000.00GB</span>
            <div style="grid-column: 6" class="option-dropdown">
              <button
                style="
                  background-color: transparent;
                  outline: none;
                  border: none;
                "
              >
                <svg
                  width="6"
                  height="22"
                  viewBox="0 0 6 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3.3998 22C2.6848 22 2.07272 21.7307 1.56355 21.1922C1.05439 20.6536 0.799805 20.0063 0.799805 19.25C0.799805 18.4937 1.05439 17.8464 1.56355 17.3078C2.07272 16.7693 2.6848 16.5 3.3998 16.5C4.1148 16.5 4.72689 16.7693 5.23605 17.3078C5.74522 17.8464 5.9998 18.4937 5.9998 19.25C5.9998 20.0063 5.74522 20.6536 5.23605 21.1922C4.72689 21.7307 4.1148 22 3.3998 22ZM3.3998 13.75C2.6848 13.75 2.07272 13.4807 1.56355 12.9422C1.05439 12.4036 0.799805 11.7563 0.799805 11C0.799805 10.2437 1.05439 9.59635 1.56355 9.05781C2.07272 8.51927 2.6848 8.25 3.3998 8.25C4.1148 8.25 4.72689 8.51927 5.23605 9.05781C5.74522 9.59635 5.9998 10.2437 5.9998 11C5.9998 11.7563 5.74522 12.4036 5.23605 12.9422C4.72689 13.4807 4.1148 13.75 3.3998 13.75ZM3.3998 5.5C2.6848 5.5 2.07272 5.23073 1.56355 4.69219C1.05439 4.15365 0.799805 3.50625 0.799805 2.75C0.799805 1.99375 1.05439 1.34635 1.56355 0.807813C2.07272 0.269271 2.6848 0 3.3998 0C4.1148 0 4.72689 0.269271 5.23605 0.807813C5.74522 1.34635 5.9998 1.99375 5.9998 2.75C5.9998 3.50625 5.74522 4.15365 5.23605 4.69219C4.72689 5.23073 4.1148 5.5 3.3998 5.5Z"
                    fill="white"
                  />
                </svg>
              </button>

              <div class="option-content hidden">
                <span onclick="file_operation(this)" class="option">
                  <svg
                    width="22"
                    height="16"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M10 15L3.75 8.75L5.5 6.9375L8.75 10.1875V0H11.25V10.1875L14.5 6.9375L16.25 8.75L10 15ZM2.5 20C1.8125 20 1.22396 19.7552 0.734375 19.2656C0.244792 18.776 0 18.1875 0 17.5V13.75H2.5V17.5H17.5V13.75H20V17.5C20 18.1875 19.7552 18.776 19.2656 19.2656C18.776 19.7552 18.1875 20 17.5 20H2.5Z"
                      fill="white"
                    />
                  </svg>
                  Download
                </span>
                <span onclick="file_operation(this)" class="option">
                  <svg
                    width="22"
                    height="16"
                    viewBox="0 0 22 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M11.22 10L9.4325 11.625L10.9725 13.025L15.4 9L10.9725 4.975L9.4325 6.375L11.22 8H6.6V10H11.22ZM2.2 16C1.595 16 1.07708 15.8042 0.64625 15.4125C0.215417 15.0208 0 14.55 0 14V2C0 1.45 0.215417 0.979167 0.64625 0.5875C1.07708 0.195833 1.595 0 2.2 0H8.8L11 2H19.8C20.405 2 20.9229 2.19583 21.3538 2.5875C21.7846 2.97917 22 3.45 22 4V14C22 14.55 21.7846 15.0208 21.3538 15.4125C20.9229 15.8042 20.405 16 19.8 16H2.2ZM2.2 14H19.8V4H10.0925L7.8925 2H2.2V14Z"
                      fill="white"
                    />
                  </svg>
                  Move
                </span>

                <div class="moveto hidden">
                  <div class="movingpath noscroll">
                    <svg
                      fill="#fff"
                      class="movetoback"
                      width="1.25rem"
                      style="min-width: 1.25rem"
                      viewBox="-192 -192 2304.00 2304.00"
                      xmlns="http://www.w3.org/2000/svg"
                      transform="matrix(-1, 0, 0, 1, 0, 0)"
                    >
                      <path
                        d="M568.13.012 392 176.142l783.864 783.989L392 1743.87 568.13 1920l960.118-959.87z"
                        fill-rule="evenodd"
                      ></path>
                    </svg>
                    <span class="movetohome">Home</span>
                    <div class="movetofilepathpart hidden">
                      <svg
                        fill="#fff"
                        width="1rem"
                        viewBox="-192 -192 2304.00 2304.00"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g
                          id="SVGRepo_tracerCarrier"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke="#CCCCCC"
                          stroke-width="3.84"
                        ></g>
                        <g id="SVGRepo_iconCarrier">
                          <path
                            d="M568.13.012 392 176.142l783.864 783.989L392 1743.87 568.13 1920l960.118-959.87z"
                            fill-rule="evenodd"
                          ></path>
                        </g>
                      </svg>
                      <span class="current-loc"></span>
                    </div>
                  </div>
                  <div class="folders noscroll">
                    <div class="home"></div>
                    <div class="movetofolder hidden">
                      <div style="height: fit-content" class="icon">
                        <svg
                          style="
                            width: 2rem;
                            min-width: 2rem;
                            max-width: 4rem;
                            height: 2.75rem;
                          "
                          viewBox="0 0 68 55"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M0 0H29.6925L35.2544 8.92263H67.0168L68 54H0V0Z"
                            fill="#00f714"
                          />
                        </svg>
                      </div>
                      <span class="movetofoldername noscroll">Folder name</span>
                    </div>
                  </div>
                  <div class="movetobtn">
                    <div class="confirmmove">
                      <span
                        style="color: var(--accent); background: var(--primary)"
                        >Move</span
                      >
                    </div>
                    <div style="background: #ff0004" class="cancelmove">
                      <span
                        onclick="this.parentNode.parentNode.parentNode.classList.add('hidden');"
                        style="color: #ff0004; background: var(--primary)"
                        >Cancle</span
                      >
                    </div>
                  </div>
                </div>

                <span onclick="file_operation(this)" class="option">
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M0 4.28571V15.7143H12.5V14.2857H1.25V5.71429H12.5V4.28571H0Z"
                      fill="white"
                    />
                    <path
                      d="M16.25 4.28571V5.71429H18.75V14.2857H16.25V15.7143H20V4.28571H16.25Z"
                      fill="white"
                    />
                    <path
                      d="M15 1.42857H13.75V18.5714H15V1.42857Z"
                      fill="white"
                    />
                    <path
                      d="M17.5 20V18.5714L15 18.5714V20H17.5Z"
                      fill="white"
                    />
                    <path
                      d="M13.75 20V18.5714L11.25 18.5714V20H13.75Z"
                      fill="white"
                    />
                    <path d="M17.5 1.42857V0H15V1.42857H17.5Z" fill="white" />
                    <path
                      d="M13.75 1.42857V0H11.25V1.42857H13.75Z"
                      fill="white"
                    />
                    <path
                      d="M11.25 12.8571V7.14286H2.5V12.8571H11.25Z"
                      fill="white"
                    />
                  </svg>
                  Rename
                </span>

                <span onclick="file_operation(this)" class="option">
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M9 15H11V9H9V15ZM10 7C10.2833 7 10.5208 6.90417 10.7125 6.7125C10.9042 6.52083 11 6.28333 11 6C11 5.71667 10.9042 5.47917 10.7125 5.2875C10.5208 5.09583 10.2833 5 10 5C9.71667 5 9.47917 5.09583 9.2875 5.2875C9.09583 5.47917 9 5.71667 9 6C9 6.28333 9.09583 6.52083 9.2875 6.7125C9.47917 6.90417 9.71667 7 10 7ZM10 20C8.61667 20 7.31667 19.7375 6.1 19.2125C4.88333 18.6875 3.825 17.975 2.925 17.075C2.025 16.175 1.3125 15.1167 0.7875 13.9C0.2625 12.6833 0 11.3833 0 10C0 8.61667 0.2625 7.31667 0.7875 6.1C1.3125 4.88333 2.025 3.825 2.925 2.925C3.825 2.025 4.88333 1.3125 6.1 0.7875C7.31667 0.2625 8.61667 0 10 0C11.3833 0 12.6833 0.2625 13.9 0.7875C15.1167 1.3125 16.175 2.025 17.075 2.925C17.975 3.825 18.6875 4.88333 19.2125 6.1C19.7375 7.31667 20 8.61667 20 10C20 11.3833 19.7375 12.6833 19.2125 13.9C18.6875 15.1167 17.975 16.175 17.075 17.075C16.175 17.975 15.1167 18.6875 13.9 19.2125C12.6833 19.7375 11.3833 20 10 20ZM10 18C12.2333 18 14.125 17.225 15.675 15.675C17.225 14.125 18 12.2333 18 10C18 7.76667 17.225 5.875 15.675 4.325C14.125 2.775 12.2333 2 10 2C7.76667 2 5.875 2.775 4.325 4.325C2.775 5.875 2 7.76667 2 10C2 12.2333 2.775 14.125 4.325 15.675C5.875 17.225 7.76667 18 10 18Z"
                      fill="white"
                    />
                  </svg>
                  Details
                </span>

                <div class="details hidden">
                  Type: <span class="detailtype">Exten</span> SIZE:
                  <span class="detailsize">000.00MB</span>
                  Location:

                  <span class="detailloc noscroll"
                    >level0/levezdfdfsadfdffffgfdfdfl1/level2</span
                  >
                  Last Modified
                  <span class="detailmoddate">00-00-0000 00:00</span> Created On
                  <span class="detailcreatedate">00-00-0000 00:00</span>
                </div>

                <span
                  onclick="file_operation(this)"
                  style="color: #ff0004"
                  class="option"
                >
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 16 22"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M6.5 0.5L5.5 2V2.5H0V4H1V19L3.5 21.5H12.5L15 19V4H16V2.5H10.5V2L9.5 0.5H6.5ZM6.91406 1.5H9.08594L9.5 2.41406V3H6.5V2.41406L6.91406 1.5ZM2.5 4H13.5V18.5859L12.0859 20H3.91406L2.5 18.5859V4ZM4.5 6V18H5.5V6H4.5ZM7.5 6V18H8.5V6H7.5ZM10.5 6V18H11.5V6H10.5Z"
                      fill="#FF0004"
                    />
                  </svg>
                  Delete
                </span>
              </div>
            </div>
          </div>

          <div class="card folder hidden">
            <div style="grid-column: 1" class="icon">
              <svg
                style="width: 2.8rem; max-width: 4rem; height: 2.75rem"
                viewBox="0 0 68 55"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0 0H29.6925L35.2544 8.92263H67.0168L68 54H0V0Z"
                  fill="#00f714"
                />
              </svg>
            </div>
            <span
              style="grid-column: 2"
              class="filename mainfoldername noscroll"
              >Folder name</span
            >
            <span class="dateofmodi">00-00-0000 00:00</span>
            <span style="grid-column: 4" class="filetype">Folder</span>
            <div style="grid-column: 6" class="option-dropdown">
              <button
                style="
                  background-color: transparent;
                  outline: none;
                  border: none;
                "
              >
                <svg
                  width="6"
                  height="22"
                  viewBox="0 0 6 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3.3998 22C2.6848 22 2.07272 21.7307 1.56355 21.1922C1.05439 20.6536 0.799805 20.0063 0.799805 19.25C0.799805 18.4937 1.05439 17.8464 1.56355 17.3078C2.07272 16.7693 2.6848 16.5 3.3998 16.5C4.1148 16.5 4.72689 16.7693 5.23605 17.3078C5.74522 17.8464 5.9998 18.4937 5.9998 19.25C5.9998 20.0063 5.74522 20.6536 5.23605 21.1922C4.72689 21.7307 4.1148 22 3.3998 22ZM3.3998 13.75C2.6848 13.75 2.07272 13.4807 1.56355 12.9422C1.05439 12.4036 0.799805 11.7563 0.799805 11C0.799805 10.2437 1.05439 9.59635 1.56355 9.05781C2.07272 8.51927 2.6848 8.25 3.3998 8.25C4.1148 8.25 4.72689 8.51927 5.23605 9.05781C5.74522 9.59635 5.9998 10.2437 5.9998 11C5.9998 11.7563 5.74522 12.4036 5.23605 12.9422C4.72689 13.4807 4.1148 13.75 3.3998 13.75ZM3.3998 5.5C2.6848 5.5 2.07272 5.23073 1.56355 4.69219C1.05439 4.15365 0.799805 3.50625 0.799805 2.75C0.799805 1.99375 1.05439 1.34635 1.56355 0.807813C2.07272 0.269271 2.6848 0 3.3998 0C4.1148 0 4.72689 0.269271 5.23605 0.807813C5.74522 1.34635 5.9998 1.99375 5.9998 2.75C5.9998 3.50625 5.74522 4.15365 5.23605 4.69219C4.72689 5.23073 4.1148 5.5 3.3998 5.5Z"
                    fill="white"
                  />
                </svg>
              </button>

              <div class="option-content hidden">
                <span onclick="file_operation(this,true)" class="option">
                  <svg
                    width="22"
                    height="16"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M10 15L3.75 8.75L5.5 6.9375L8.75 10.1875V0H11.25V10.1875L14.5 6.9375L16.25 8.75L10 15ZM2.5 20C1.8125 20 1.22396 19.7552 0.734375 19.2656C0.244792 18.776 0 18.1875 0 17.5V13.75H2.5V17.5H17.5V13.75H20V17.5C20 18.1875 19.7552 18.776 19.2656 19.2656C18.776 19.7552 18.1875 20 17.5 20H2.5Z"
                      fill="white"
                    />
                  </svg>
                  Download
                </span>
                <span onclick="file_operation(this,true)" class="option">
                  <svg
                    width="22"
                    height="16"
                    viewBox="0 0 22 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M11.22 10L9.4325 11.625L10.9725 13.025L15.4 9L10.9725 4.975L9.4325 6.375L11.22 8H6.6V10H11.22ZM2.2 16C1.595 16 1.07708 15.8042 0.64625 15.4125C0.215417 15.0208 0 14.55 0 14V2C0 1.45 0.215417 0.979167 0.64625 0.5875C1.07708 0.195833 1.595 0 2.2 0H8.8L11 2H19.8C20.405 2 20.9229 2.19583 21.3538 2.5875C21.7846 2.97917 22 3.45 22 4V14C22 14.55 21.7846 15.0208 21.3538 15.4125C20.9229 15.8042 20.405 16 19.8 16H2.2ZM2.2 14H19.8V4H10.0925L7.8925 2H2.2V14Z"
                      fill="white"
                    />
                  </svg>
                  Move
                </span>
                <div class="moveto hidden">
                  <div class="movingpath noscroll">
                    <svg
                      fill="#fff"
                      class="movetoback"
                      width="1.25rem"
                      style="min-width: 1.25rem"
                      viewBox="-192 -192 2304.00 2304.00"
                      xmlns="http://www.w3.org/2000/svg"
                      transform="matrix(-1, 0, 0, 1, 0, 0)"
                    >
                      <path
                        d="M568.13.012 392 176.142l783.864 783.989L392 1743.87 568.13 1920l960.118-959.87z"
                        fill-rule="evenodd"
                      ></path>
                    </svg>
                    <span class="movetohome">Home</span>
                    <div class="movetofilepathpart hidden">
                      <svg
                        fill="#fff"
                        width="1rem"
                        viewBox="-192 -192 2304.00 2304.00"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g
                          id="SVGRepo_tracerCarrier"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke="#CCCCCC"
                          stroke-width="3.84"
                        ></g>
                        <g id="SVGRepo_iconCarrier">
                          <path
                            d="M568.13.012 392 176.142l783.864 783.989L392 1743.87 568.13 1920l960.118-959.87z"
                            fill-rule="evenodd"
                          ></path>
                        </g>
                      </svg>
                      <span class="current-loc">level1</span>
                    </div>
                  </div>
                  <div class="folders noscroll">
                    <div class="movetofolder hidden">
                      <div style="height: fit-content" class="icon">
                        <svg
                          style="
                            width: 2rem;
                            min-width: 2rem;
                            max-width: 4rem;
                            height: 2.75rem;
                          "
                          viewBox="0 0 68 55"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M0 0H29.6925L35.2544 8.92263H67.0168L68 54H0V0Z"
                            fill="#00f714"
                          />
                        </svg>
                      </div>
                      <span class="movetofoldername noscroll">Folder name</span>
                    </div>
                  </div>
                  <div class="movetobtn">
                    <div class="confirmmove">
                      <span
                        style="color: var(--accent); background: var(--primary)"
                        >Move</span
                      >
                    </div>
                    <div style="background: #ff0004" class="confirmmove">
                      <span
                        onclick="this.parentNode.parentNode.parentNode.classList.add('hidden');"
                        style="color: #ff0004; background: var(--primary)"
                        >Cancle</span
                      >
                    </div>
                  </div>
                </div>
                <span onclick="file_operation(this,true)" class="option">
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M0 4.28571V15.7143H12.5V14.2857H1.25V5.71429H12.5V4.28571H0Z"
                      fill="white"
                    />
                    <path
                      d="M16.25 4.28571V5.71429H18.75V14.2857H16.25V15.7143H20V4.28571H16.25Z"
                      fill="white"
                    />
                    <path
                      d="M15 1.42857H13.75V18.5714H15V1.42857Z"
                      fill="white"
                    />
                    <path
                      d="M17.5 20V18.5714L15 18.5714V20H17.5Z"
                      fill="white"
                    />
                    <path
                      d="M13.75 20V18.5714L11.25 18.5714V20H13.75Z"
                      fill="white"
                    />
                    <path d="M17.5 1.42857V0H15V1.42857H17.5Z" fill="white" />
                    <path
                      d="M13.75 1.42857V0H11.25V1.42857H13.75Z"
                      fill="white"
                    />
                    <path
                      d="M11.25 12.8571V7.14286H2.5V12.8571H11.25Z"
                      fill="white"
                    />
                  </svg>
                  Rename
                </span>
                <span
                  onclick="file_operation(this,true)"
                  style="color: #ff0004"
                  class="option"
                >
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 16 22"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M6.5 0.5L5.5 2V2.5H0V4H1V19L3.5 21.5H12.5L15 19V4H16V2.5H10.5V2L9.5 0.5H6.5ZM6.91406 1.5H9.08594L9.5 2.41406V3H6.5V2.41406L6.91406 1.5ZM2.5 4H13.5V18.5859L12.0859 20H3.91406L2.5 18.5859V4ZM4.5 6V18H5.5V6H4.5ZM7.5 6V18H8.5V6H7.5ZM10.5 6V18H11.5V6H10.5Z"
                      fill="#FF0004"
                    />
                  </svg>
                  Delete
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <script>
        var isAscending = false;
        function sortItems(element) {
          const container = document.querySelector(".item-container");
          const items = Array.from(container.children);
          var onbases = document.querySelectorAll(".onbases");
          var order = document.querySelectorAll(".order");
          var headers = document.querySelectorAll(".header");
          element.classList.toggle("isAscending");
          if (element.classList.contains("isAscending")) {
            isAscending = true;
          } else {
            isAscending = false;
          }
          headers.forEach((header) => {
            if (header != element) {
              header.classList.remove("isAscending");
            }
          });
          onbases.forEach((onbase) => {
            onbase.classList.remove("active");
          });
          element.classList.add("active");

          items.sort((a, b) => {
            let comparison = 0;
            switch (element.textContent) {
              case "Date":
                const dateA = parseDate(
                  a.querySelector(".dateofmodi").textContent
                );
                const dateB = parseDate(
                  b.querySelector(".dateofmodi").textContent
                );
                comparison = dateA.getTime() - dateB.getTime();
                break;
              case "Size":
                if (a.classList.contains("folder")) {
                  comparison = -1;
                } else if (b.classList.contains("folder")) {
                  comparison = 1;
                } else {
                  const sizeA =
                    parseInt(a.querySelector(".size").textContent) || 0;
                  const sizeB =
                    parseInt(b.querySelector(".size").textContent) || 0;
                  comparison = sizeA - sizeB;
                }
                console.log(
                  a.querySelector(".size"),
                  b.querySelector(".size"),
                  comparison
                );
                break;
              case "Name":
                comparison = a
                  .querySelector(".filename")
                  .textContent.toLowerCase()
                  .localeCompare(
                    b.querySelector(".filename").textContent.toLowerCase()
                  );
                break;
              case "File Type":
              case "Type":
                comparison = a
                  .querySelector(".filetype")
                  .textContent.toLowerCase()
                  .localeCompare(
                    b.querySelector(".filetype").textContent.toLowerCase()
                  );
                break;
              default:
                break;
            }
            return comparison;
          });

          if (!isAscending) {
            items.reverse();
          }
          items.forEach((item) => container.appendChild(item));
        }

        function parseDate(dateString) {
          const [datePart, timePart] = dateString.split(" ");
          const [day, month, year] = datePart.split("-").map(Number);
          const [hours, minutes] = timePart.split(":").map(Number);
          return new Date(year, month - 1, day, hours, minutes);
        }
      </script>
    </main>
    <script>
      function togglesidenav() {
        const sidenav = document.querySelector("aside");
        const hamburger = document.querySelector(".hamburger");
        const crossSvg = document.querySelector(".cross-svg");
        sidenav.classList.toggle("open");
      }
    </script>
  </body>
</html>
